---
title: "How to mitigate the Log4j vulnerability on Windows servers (the correct way!)"
image: "https:\/\/i.ytimg.com\/vi\/CoUi4Hk6P3Y\/hqdefault.jpg"
vid_id: "CoUi4Hk6P3Y"
categories: "Science-Technology"
tags: ["mitigate","Log4j","vulnerability"]
date: "2021-12-15T15:24:33+03:00"
vid_date: "2021-12-11T11:39:22Z"
duration: "PT57S"
viewcount: "41681"
likeCount: "109"
dislikeCount: ""
channel: "Fastvue"
---
{% raw %}This short video shows how to mitigate the Log4j vulnerability on Windows servers running Fastvue Reporter.<br /><br />Fastvue Reporter uses Elasticsearch as its database, which uses Log4j for its own diagnostic logging.<br /><br />Elastic has since downgraded the issue saying&quot;Elasticsearch is not susceptible to remote code execution with this vulnerability due to our use of the Java Security Manager&quot; which is good news:<br /><a rel="nofollow" target="blank" href="https://discuss.elastic.co/t/apache-log4j2-remote-code-execution-rce-vulnerability-cve-2021-44228-esa-2021-31/291476">https://discuss.elastic.co/t/apache-log4j2-remote-code-execution-rce-vulnerability-cve-2021-44228-esa-2021-31/291476</a><br /><br />However, we still recommend adding the LOG4J_FORMAT_MSG_NO_LOOKUPS environment variable to your servers. Especially if you have other services installed that could also be using log4j under the hood. There are many of them out there!<br /><br />To do this:<br />1. Log in to the server running Fastvue Reporter<br />2. Right-click the Start button and select System.<br />3. In the Settings window that appears, under Related Settings, click System Info.<br />4. In the System window that appears, on the left side, click Advanced system settings.<br />5. In the System Properties dialog that appears, under the Advanced tab, click the Environment Variables... button.<br />In the Environment Variables dialog, under System variables, click New....<br />6. Set Variable name to LOG4J_FORMAT_MSG_NO_LOOKUPS<br />Set Variable value to true<br />7. Click OK on each dialog until you're back to the System window, which can now be closed.<br />8. Restart the Fastvue Reporter service in services.msc. This in turn restarts the Elasticsearch service and initializes log4j with the new environment variable.<br /><br />Please follow these steps as soon as possible to avoid the Log4j vulnerability causing issues in your network.<br /><br />Fastvue helps schools and businesses monitor, alert and report on internet usage issues. Safeguard students, improve online safety, productivity and network security. Find out more at <a rel="nofollow" target="blank" href="https://www.fastvue.co">https://www.fastvue.co</a><br /><br />To stay updated with Fastvue's product and security updates, subscribe to our mailing list making sure you check the 'Product Updates &amp; News' checkbox.  <br /><br />Subscribe here: <a rel="nofollow" target="blank" href="http://eepurl.com/fMe-Q">http://eepurl.com/fMe-Q</a>{% endraw %}
